<!doctype html><html lang=en><head><meta charset=utf-8><meta name=generator content="Hugo 0.76.3"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Cyan"><meta property="og:url" content="https://cyasts.github.com/posts/stablematchs/"><link rel=canonical href=https://cyasts.github.com/posts/stablematchs/><link rel=alternate type=application/atom+xml href=https://cyasts.github.comindex.xml title=Blog><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/cyasts.github.com"},"articleSection":"posts","name":"稳定匹配问题","headline":"稳定匹配问题","description":"稳定匹配问题 1.问题描述 给定N个男性m~1~,,⋯,m~n~和N个女性w~1~,⋯,w~n~\n 每个男性对女性由最喜欢到最不喜欢进行排序 每个女性对男性由最喜欢到最不喜欢进行排序  目标：找到一个稳定的匹配使得不满意度最低。\n2.输入 第一行输入N，表示需要处理的匹配的对数。男性按照1，2，3\u0026hellip;N的编号表示，女性同样如此。 接下来N行，每行N个数字，表示该行男性对所有女性的好感度排名。 再接下来N行，每行N个数字，表示该行女性对所有男性的好感度排名。 例如： 3 1 2 3 2 1 3 1 2 3 2 1 3 1 2 3 1 2 3\n3.输出 输入N行，每行输出一个匹配的结果，格式为：m:编号，w:编号. 例如: m:1 w:1 m:2 w:2 m:3 w:3\n4.核心思想 4.算法实现 1#include \u0026lt;stdio.h\u0026gt;2#include \u0026lt;stdlib.h\u0026gt;3 4void input(); 5void process(); 6int findfman(); 7int findpreorder(int index, int o); 8void output(); 9void desource(); 10 11 12int N; 13int * mancp; 14int * womencp; 15int ** man; 16int ** women; 17 18int main(int argc, char *argv[]) 19{ 20 21\/\/freopen(\u0026#34;input.","inLanguage":"en-US","author":"Cyan","creator":"Cyan","publisher":"Cyan","accountablePerson":"Cyan","copyrightHolder":"Cyan","copyrightYear":"2020","datePublished":"2020-10-10 21:13:00 \u002b0800 \u002b0800","dateModified":"2020-10-10 21:13:00 \u002b0800 \u002b0800","url":"https:\/\/cyasts.github.com\/posts\/stablematchs\/","keywords":[]}</script><title>稳定匹配问题 - Blog</title><meta property="og:title" content="稳定匹配问题 - Blog"><meta property="og:type" content="article"><meta property="og:description" content="稳定匹配问题 1.问题描述 给定N个男性m~1~,,⋯,m~n~和N个女性w~1~,⋯,w~n~
 每个男性对女性由最喜欢到最不喜欢进行排序 每个女性对男性由最喜欢到最不喜欢进行排序  目标：找到一个稳定的匹配使得不满意度最低。
2.输入 第一行输入N，表示需要处理的匹配的对数。男性按照1，2，3&mldr;N的编号表示，女性同样如此。 接下来N行，每行N个数字，表示该行男性对所有女性的好感度排名。 再接下来N行，每行N个数字，表示该行女性对所有男性的好感度排名。 例如： 3 1 2 3 2 1 3 1 2 3 2 1 3 1 2 3 1 2 3
3.输出 输入N行，每行输出一个匹配的结果，格式为：m:编号，w:编号. 例如: m:1 w:1 m:2 w:2 m:3 w:3
4.核心思想 4.算法实现 1#include <stdio.h>2#include <stdlib.h>3 4void input(); 5void process(); 6int findfman(); 7int findpreorder(int index, int o); 8void output(); 9void desource(); 10 11 12int N; 13int * mancp; 14int * womencp; 15int ** man; 16int ** women; 17 18int main(int argc, char *argv[]) 19{ 20 21//freopen(&#34;input."><meta name=description content="稳定匹配问题 1.问题描述 给定N个男性m~1~,,⋯,m~n~和N个女性w~1~,⋯,w~n~
 每个男性对女性由最喜欢到最不喜欢进行排序 每个女性对男性由最喜欢到最不喜欢进行排序  目标：找到一个稳定的匹配使得不满意度最低。
2.输入 第一行输入N，表示需要处理的匹配的对数。男性按照1，2，3&mldr;N的编号表示，女性同样如此。 接下来N行，每行N个数字，表示该行男性对所有女性的好感度排名。 再接下来N行，每行N个数字，表示该行女性对所有男性的好感度排名。 例如： 3 1 2 3 2 1 3 1 2 3 2 1 3 1 2 3 1 2 3
3.输出 输入N行，每行输出一个匹配的结果，格式为：m:编号，w:编号. 例如: m:1 w:1 m:2 w:2 m:3 w:3
4.核心思想 4.算法实现 1#include <stdio.h>2#include <stdlib.h>3 4void input(); 5void process(); 6int findfman(); 7int findpreorder(int index, int o); 8void output(); 9void desource(); 10 11 12int N; 13int * mancp; 14int * womencp; 15int ** man; 16int ** women; 17 18int main(int argc, char *argv[]) 19{ 20 21//freopen(&#34;input."><meta property="og:locale" content="zh-cn"><link rel=stylesheet href=/css/flexboxgrid-6.3.1.min.css><link rel=stylesheet href=/css/github-markdown.css><link rel=stylesheet href=/css/highlight/tomorrow.min.css><link rel=stylesheet href=/css/index.css><link href=/index.xml rel=alternate type=application/rss+xml title=Blog><link href="https://fonts.googleapis.com/css?family=Arvo|Permanent+Marker|Bree+Serif" rel=stylesheet></head><body><article class="post Chinese" id=article><div class=row><div class=col-xs-12><div class=site-header><header><div class="signatures site-title"><a href=/>Cyan</a></div></header><div class="row end-xs"></div><div class=header-line></div></div><header class=post-header><h1 class=post-title>稳定匹配问题</h1><div class="row post-desc"><div class=col-xs-6><time class=post-date datetime="2020-10-10 21:13:00 +0800">2020.10.10</time></div><div class=col-xs-6><div class=post-author><a target=_blank href=https://github.com/cyasts/>@Cyan</a></div></div></div></header><div class="post-content markdown-body"><h1 id=center稳定匹配问题center>稳定匹配问题</h1><h4 id=1问题描述>1.问题描述</h4><p>给定N个男性m~1~,,⋯,m~n~和N个女性w~1~,⋯,w~n~</p><ul><li>每个男性对女性由最喜欢到最不喜欢进行排序</li><li>每个女性对男性由最喜欢到最不喜欢进行排序</li></ul><p>目标：找到一个稳定的匹配使得不满意度最低。</p><h4 id=2输入>2.输入</h4><p>第一行输入N，表示需要处理的匹配的对数。男性按照1，2，3&mldr;N的编号表示，女性同样如此。
接下来N行，每行N个数字，表示该行男性对所有女性的好感度排名。
再接下来N行，每行N个数字，表示该行女性对所有男性的好感度排名。
例如：
3
1 2 3
2 1 3
1 2 3
2 1 3
1 2 3
1 2 3</p><h4 id=3输出>3.输出</h4><p>输入N行，每行输出一个匹配的结果，格式为：m:编号，w:编号.
例如:
m:1 w:1
m:2 w:2
m:3 w:3</p><h4 id=4核心思想>4.核心思想</h4><p><img src=https://cdn.jsdelivr.net/gh/cyasts/cyasts.github.io@master/images/20201010211020.png alt=20201010211020></p><h4 id=4算法实现>4.算法实现</h4><div class=highlight><pre class=chroma><code class=language-C data-lang=C><span class=ln>  1</span><span class=cp>#include</span> <span class=cpf>&lt;stdio.h&gt;</span><span class=cp>
</span><span class=ln>  2</span><span class=cp>#include</span> <span class=cpf>&lt;stdlib.h&gt;</span><span class=cp>
</span><span class=ln>  3</span><span class=cp></span>
<span class=ln>  4</span><span class=kt>void</span> <span class=nf>input</span><span class=p>();</span>
<span class=ln>  5</span><span class=kt>void</span> <span class=nf>process</span><span class=p>();</span>
<span class=ln>  6</span><span class=kt>int</span> <span class=nf>findfman</span><span class=p>();</span>
<span class=ln>  7</span><span class=kt>int</span> <span class=nf>findpreorder</span><span class=p>(</span><span class=kt>int</span> <span class=n>index</span><span class=p>,</span> <span class=kt>int</span> <span class=n>o</span><span class=p>);</span>
<span class=ln>  8</span><span class=kt>void</span> <span class=nf>output</span><span class=p>();</span>
<span class=ln>  9</span><span class=kt>void</span> <span class=nf>desource</span><span class=p>();</span>
<span class=ln> 10</span>
<span class=ln> 11</span>
<span class=ln> 12</span><span class=kt>int</span> <span class=n>N</span><span class=p>;</span>
<span class=ln> 13</span><span class=kt>int</span> <span class=o>*</span> <span class=n>mancp</span><span class=p>;</span>
<span class=ln> 14</span><span class=kt>int</span> <span class=o>*</span> <span class=n>womencp</span><span class=p>;</span>
<span class=ln> 15</span><span class=kt>int</span> <span class=o>**</span> <span class=n>man</span><span class=p>;</span>
<span class=ln> 16</span><span class=kt>int</span> <span class=o>**</span> <span class=n>women</span><span class=p>;</span>
<span class=ln> 17</span>
<span class=ln> 18</span><span class=kt>int</span> <span class=nf>main</span><span class=p>(</span><span class=kt>int</span> <span class=n>argc</span><span class=p>,</span> <span class=kt>char</span> <span class=o>*</span><span class=n>argv</span><span class=p>[])</span> 
<span class=ln> 19</span><span class=p>{</span>
<span class=ln> 20</span>
<span class=ln> 21</span><span class=c1>//freopen(&#34;input.txt&#34;,&#34;r&#34;,stdin);
</span><span class=ln> 22</span><span class=c1>//freopen(&#34;output.txt&#34;,&#34;w&#34;, stdout);
</span><span class=ln> 23</span><span class=c1></span>
<span class=ln> 24</span>
<span class=ln> 25</span>	<span class=n>scanf</span><span class=p>(</span><span class=s>&#34;%d&#34;</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>N</span><span class=p>);</span>
<span class=ln> 26</span>	
<span class=ln> 27</span>	<span class=n>input</span><span class=p>();</span>
<span class=ln> 28</span>	
<span class=ln> 29</span>	<span class=n>process</span><span class=p>();</span>
<span class=ln> 30</span>	
<span class=ln> 31</span>	<span class=n>output</span><span class=p>();</span>
<span class=ln> 32</span>	
<span class=ln> 33</span>	<span class=n>desource</span><span class=p>();</span>
<span class=ln> 34</span>	
<span class=ln> 35</span><span class=c1>//fclose(stdin);
</span><span class=ln> 36</span><span class=c1>//fclose(stdout);
</span><span class=ln> 37</span><span class=c1></span>
<span class=ln> 38</span>	<span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
<span class=ln> 39</span><span class=p>}</span>
<span class=ln> 40</span>
<span class=ln> 41</span><span class=kt>void</span> <span class=nf>input</span><span class=p>()</span>
<span class=ln> 42</span><span class=p>{</span>
<span class=ln> 43</span>	<span class=kt>int</span> <span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>,</span> <span class=n>k</span><span class=p>;</span>
<span class=ln> 44</span>	
<span class=ln> 45</span>	
<span class=ln> 46</span>	<span class=n>man</span> <span class=o>=</span> <span class=p>(</span><span class=kt>int</span> <span class=o>**</span><span class=p>)</span><span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=kt>int</span> <span class=o>*</span><span class=p>)</span> <span class=o>*</span> <span class=n>N</span><span class=p>);</span>
<span class=ln> 47</span>	<span class=n>women</span> <span class=o>=</span> <span class=p>(</span><span class=kt>int</span> <span class=o>**</span><span class=p>)</span><span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=kt>int</span> <span class=o>*</span><span class=p>)</span> <span class=o>*</span> <span class=n>N</span><span class=p>);</span>
<span class=ln> 48</span>	
<span class=ln> 49</span>	<span class=n>mancp</span> <span class=o>=</span> <span class=p>(</span><span class=kt>int</span> <span class=o>*</span><span class=p>)</span><span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=kt>int</span><span class=p>)</span> <span class=o>*</span> <span class=n>N</span><span class=p>);</span>
<span class=ln> 50</span>	<span class=n>womencp</span> <span class=o>=</span> <span class=p>(</span><span class=kt>int</span> <span class=o>*</span><span class=p>)</span><span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=kt>int</span><span class=p>)</span> <span class=o>*</span> <span class=n>N</span><span class=p>);</span>
<span class=ln> 51</span>	
<span class=ln> 52</span>	<span class=k>for</span><span class=p>(</span><span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>&lt;</span><span class=n>N</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
<span class=ln> 53</span>		<span class=n>man</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=kt>int</span> <span class=o>*</span><span class=p>)</span><span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=kt>int</span><span class=p>)</span> <span class=o>*</span> <span class=n>N</span><span class=p>);</span>
<span class=ln> 54</span>		<span class=n>women</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=kt>int</span> <span class=o>*</span><span class=p>)</span><span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=kt>int</span><span class=p>)</span> <span class=o>*</span> <span class=n>N</span><span class=p>);</span>
<span class=ln> 55</span>		
<span class=ln> 56</span>		<span class=n>mancp</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
<span class=ln> 57</span>		<span class=n>womencp</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
<span class=ln> 58</span>	<span class=p>}</span>
<span class=ln> 59</span>	
<span class=ln> 60</span>	<span class=k>for</span><span class=p>(</span><span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>&lt;</span><span class=n>N</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>){</span>
<span class=ln> 61</span>		<span class=k>for</span><span class=p>(</span><span class=n>j</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=n>j</span><span class=o>&lt;</span><span class=n>N</span><span class=p>;</span> <span class=o>++</span><span class=n>j</span><span class=p>){</span>
<span class=ln> 62</span>			<span class=n>scanf</span><span class=p>(</span><span class=s>&#34;%d&#34;</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>k</span><span class=p>);</span>
<span class=ln> 63</span>			<span class=n>man</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>k</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=n>j</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span>  <span class=c1>//按照喜好优先级 顺序输入。第(i+1)喜欢的是第K个女生。k是女生编号，对应的下标应减一。 
</span><span class=ln> 64</span><span class=c1></span>		<span class=p>}</span>
<span class=ln> 65</span>	<span class=p>}</span>
<span class=ln> 66</span>	
<span class=ln> 67</span>	<span class=k>for</span><span class=p>(</span><span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>&lt;</span><span class=n>N</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>){</span>
<span class=ln> 68</span>		<span class=k>for</span><span class=p>(</span><span class=n>j</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=n>j</span><span class=o>&lt;</span><span class=n>N</span><span class=p>;</span> <span class=o>++</span><span class=n>j</span><span class=p>)</span>
<span class=ln> 69</span>		<span class=p>{</span>
<span class=ln> 70</span>			<span class=n>scanf</span><span class=p>(</span><span class=s>&#34;%d&#34;</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>k</span><span class=p>);</span>
<span class=ln> 71</span>			<span class=n>women</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>k</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=n>j</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span> 
<span class=ln> 72</span>		<span class=p>}</span>
<span class=ln> 73</span>			
<span class=ln> 74</span>	<span class=p>}</span>
<span class=ln> 75</span><span class=p>}</span>
<span class=ln> 76</span>
<span class=ln> 77</span><span class=kt>void</span> <span class=nf>process</span><span class=p>()</span>
<span class=ln> 78</span><span class=p>{</span>
<span class=ln> 79</span>	<span class=kt>int</span> <span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>,</span> <span class=n>k</span><span class=p>;</span>
<span class=ln> 80</span>	<span class=kt>int</span> <span class=n>count</span> <span class=o>=</span> <span class=n>N</span><span class=p>;</span>
<span class=ln> 81</span>	<span class=kt>int</span> <span class=n>o</span><span class=p>;</span>
<span class=ln> 82</span>	
<span class=ln> 83</span>	<span class=k>while</span><span class=p>(</span><span class=n>count</span><span class=p>)</span> <span class=p>{</span>
<span class=ln> 84</span>		<span class=n>o</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
<span class=ln> 85</span>		<span class=n>i</span> <span class=o>=</span> <span class=n>findfman</span><span class=p>(</span><span class=n>N</span><span class=p>);</span>
<span class=ln> 86</span>		<span class=n>j</span> <span class=o>=</span> <span class=n>findpreorder</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>o</span><span class=p>);</span>
<span class=ln> 87</span>		<span class=k>while</span><span class=p>(</span> <span class=n>womencp</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>!=</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=n>women</span><span class=p>[</span><span class=n>j</span><span class=p>][</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>women</span><span class=p>[</span><span class=n>j</span><span class=p>][</span><span class=n>womencp</span><span class=p>[</span><span class=n>j</span><span class=p>]</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>
<span class=ln> 88</span>		<span class=p>{</span>
<span class=ln> 89</span>			<span class=n>j</span> <span class=o>=</span> <span class=n>findpreorder</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=o>++</span><span class=n>o</span><span class=p>);</span>
<span class=ln> 90</span>		<span class=p>}</span>
<span class=ln> 91</span>		
<span class=ln> 92</span>		<span class=k>if</span> <span class=p>(</span><span class=n>womencp</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
<span class=ln> 93</span>			<span class=n>mancp</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
<span class=ln> 94</span>			<span class=n>womencp</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span>
<span class=ln> 95</span>			<span class=n>count</span><span class=o>--</span><span class=p>;</span>
<span class=ln> 96</span>		<span class=p>}</span> <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>women</span><span class=p>[</span><span class=n>j</span><span class=p>][</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>women</span><span class=p>[</span><span class=n>j</span><span class=p>][</span><span class=n>womencp</span><span class=p>[</span><span class=n>j</span><span class=p>]</span><span class=o>-</span><span class=mi>1</span><span class=p>]){</span>
<span class=ln> 97</span>			<span class=n>mancp</span><span class=p>[</span><span class=n>womencp</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
<span class=ln> 98</span>			<span class=n>mancp</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
<span class=ln> 99</span>			<span class=n>womencp</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span>
<span class=ln>100</span>		<span class=p>}</span>
<span class=ln>101</span>	<span class=p>}</span>
<span class=ln>102</span><span class=p>}</span>
<span class=ln>103</span>
<span class=ln>104</span><span class=c1>//找到未分配的男性成员下标 
</span><span class=ln>105</span><span class=c1></span><span class=kt>int</span> <span class=nf>findfman</span><span class=p>()</span>
<span class=ln>106</span><span class=p>{</span>
<span class=ln>107</span>	<span class=kt>int</span> <span class=n>i</span><span class=p>;</span>
<span class=ln>108</span>	<span class=k>for</span><span class=p>(</span><span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>&lt;</span><span class=n>N</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span>
<span class=ln>109</span>	<span class=p>{</span>
<span class=ln>110</span>		<span class=k>if</span> <span class=p>(</span><span class=n>mancp</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span>
<span class=ln>111</span>			<span class=k>return</span> <span class=n>i</span><span class=p>;</span>
<span class=ln>112</span>	<span class=p>}</span>
<span class=ln>113</span><span class=p>}</span>
<span class=ln>114</span>
<span class=ln>115</span><span class=c1>//根据男性index下标找到第o个中意的女性 
</span><span class=ln>116</span><span class=c1></span><span class=kt>int</span> <span class=nf>findpreorder</span><span class=p>(</span><span class=kt>int</span> <span class=n>index</span><span class=p>,</span> <span class=kt>int</span> <span class=n>o</span><span class=p>)</span>
<span class=ln>117</span><span class=p>{</span>
<span class=ln>118</span>	<span class=kt>int</span> <span class=n>i</span><span class=p>;</span>
<span class=ln>119</span>	<span class=k>for</span><span class=p>(</span><span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>&lt;</span><span class=n>N</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
<span class=ln>120</span>		<span class=k>if</span> <span class=p>(</span><span class=n>man</span><span class=p>[</span><span class=n>index</span><span class=p>][</span><span class=n>i</span><span class=p>]</span> <span class=o>==</span> <span class=n>o</span><span class=p>)</span>
<span class=ln>121</span>			<span class=k>return</span> <span class=n>i</span><span class=p>;</span>
<span class=ln>122</span>	<span class=p>}</span>
<span class=ln>123</span><span class=p>}</span>
<span class=ln>124</span>
<span class=ln>125</span><span class=kt>void</span> <span class=nf>output</span><span class=p>()</span>
<span class=ln>126</span><span class=p>{</span>
<span class=ln>127</span>	<span class=kt>int</span> <span class=n>i</span><span class=p>;</span>
<span class=ln>128</span>	<span class=k>for</span><span class=p>(</span><span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>&lt;</span><span class=n>N</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
<span class=ln>129</span>		<span class=n>printf</span><span class=p>(</span><span class=s>&#34;m:%d w:%d</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>,</span> <span class=n>mancp</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
<span class=ln>130</span>	<span class=p>}</span>
<span class=ln>131</span><span class=p>}</span>
<span class=ln>132</span>
<span class=ln>133</span><span class=kt>void</span> <span class=nf>desource</span><span class=p>()</span>
<span class=ln>134</span><span class=p>{</span>
<span class=ln>135</span>	<span class=kt>int</span> <span class=n>i</span><span class=p>;</span>
<span class=ln>136</span>	<span class=k>for</span> <span class=p>(</span><span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>&lt;</span><span class=mi>0</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span>
<span class=ln>137</span>	<span class=p>{</span>
<span class=ln>138</span>		<span class=n>free</span><span class=p>(</span><span class=n>man</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
<span class=ln>139</span>		<span class=n>free</span><span class=p>(</span><span class=n>women</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
<span class=ln>140</span>	<span class=p>}</span>
<span class=ln>141</span>	<span class=n>free</span><span class=p>(</span><span class=n>man</span><span class=p>);</span>
<span class=ln>142</span>	<span class=n>free</span><span class=p>(</span><span class=n>women</span><span class=p>);</span>
<span class=ln>143</span>	<span class=n>free</span><span class=p>(</span><span class=n>mancp</span><span class=p>);</span>
<span class=ln>144</span>	<span class=n>free</span><span class=p>(</span><span class=n>womencp</span><span class=p>);</span>
<span class=ln>145</span><span class=p>}</span>
<span class=ln>146</span>
</code></pre></div><h4 id=5测试数据>5.测试数据</h4><hr><p>第一组：
输入：</p><pre><code>3
1 2 3
2 1 3
1 2 3
2 1 3
1 2 3
1 2 3
</code></pre><p>输出：</p><pre><code>m:1 w:1
m:2 w:2
m:3 w:3 
</code></pre><hr><p>第二组：
输入：</p><pre><code>10
2 5 4 7 3 6 9 8 10 1
3 2 1 4 5 9 6 10 8 7
5 4 9 10 1 3 2 8 7 6
3 8 7 2 5 4 9 1 10 6
6 4 9 5 3 1 8 7 2 10
6 1 2 8 3 9 10 5 7 4
7 3 10 9 1 8 6 2 5 4
10 8 2 9 1 3 6 7 4 5
9 1 6 10 7 8 2 3 5 4
8 10 2 7 3 1 6 9 5 4
4 6 1 7 10 5 9 8 3 2
1 2 4 3 8 9 6 10 5 7
2 1 8 10 4 3 6 9 7 5
3 1 7 4 5 2 6 8 10 9
6 7 9 4 3 1 10 5 2 8
4 1 2 8 10 9 3 5 7 6
7 3 8 9 1 10 5 2 6 4
10 4 2 3 1 8 6 7 9 5
5 2 6 10 7 8 1 3 9 4
7 1 2 8 3 10 6 9 5 4
</code></pre><p>输出：</p><pre><code>m:1 w:2
m:2 w:3
m:3 w:4
m:4 w:5
m:5 w:6
m:6 w:1
m:7 w:7
m:8 w:10
m:9 w:9
m:10 w:8
</code></pre><hr></div><div class="row middle-xs"><div class=col-xs-12><div class=post-category><a href=/categories/algorithm>Algorithm</a></div></div></div><div class=row><div class=col-xs-12></div></div><div style=height:50px></div><script type=text/javascript async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script><script type=text/x-mathjax-config>
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true
    },
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script><script type=text/javascript async src=https://cdn.mathjax.org/mathjax/latest/MathJax.js></script><div class=site-footer><div class=site-footer-item><a href=/ target=_self>Home</a></div><div class=site-footer-item><a href="https://music.163.com/#/my/m/music/playlist?id=37019382" target=_blank>~</a></div></div></div></div></article><script src=/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>